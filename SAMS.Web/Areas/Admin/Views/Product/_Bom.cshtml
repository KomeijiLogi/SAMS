@using Abp.Extensions
@using SAMS.Web.Areas.Admin.Models.Common.Modals
@model SAMS.Web.Areas.Admin.Models.Product.BomViewModel
<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
    <h4 class="modal-title">配件列表</h4>

</div>
<div class="modal-body" style="padding-left:25px">
 
        <div class="tab-content">
            <div class="scroller" style="height: 410px" data-always-visible="1" data-rail-visible1="1">
             
    
                <input id="productId" name="productId" type="hidden" value="@Model.Product.Id" />
                <input id="productName" name="productName" type="hidden" value="@Model.Product.Name" />
                <input id="productModel" name="productModel" type="hidden" value="@Model.Product.Model" />
                        <div class="esh-settlement-item">
                            <p>
                                <span>配件&nbsp;</span>
                                <a class="pull-right btn btn-default btn-xs " onclick="add_accessory()"> <i class="fa fa-plus"></i>添加</a>
                            </p>
                            <div class="table-scrollable">
                                <table class="table  dataTable table-bordered" name="tb_bom">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th style="width:20%">产品</th>
                                            <th style="width:20%">产品规格</th>
                                            <th style="width:20%">配件</th>
                                            <th style="width:20%">配件规格</th>
                                            
                                            <th style="width:110px">操作</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="hidden">
                                            <td><span name="accessoryNo"></span><span class="hidden" name="bomID"></span></td>
                                            <td>
                                                <span class="hidden" name="productID"></span>
      
                                                <span name="productName"></span>
                                            </td>
                                            <td><span name="productModel"></span></td>
                                            <td>
                                                <span class="hidden" name="accessoryID"></span>

                                                <span name="accessoryName"></span>
                                                
                                            </td>
                                            <td><span name="accessoryModel"></span></td>
                                            <td>
                                                <button class="btn btn-default btn-xs black " onclick="delete_bom(this)" name="deleted">
                                                    <i class="fa fa-trash-o"></i> 删除
                                                </button>
                                            </td>
                                        </tr>
                                        @{int bomIndex = 1; }
                                        @foreach (var bom in Model.Boms.Items)
                                        {
                                            <tr>
                                                <td><span name="accessoryNo">@bomIndex</span><span class="hidden" name="bomID"> @bom.Id</span></td>
                                                <td><span class="hidden" name="productID">@bom.ProductId</span>
                                                    <span name="productName">@bom.ProductName</span>
                                                </td>
                                                <td><span name="productModel">@bom.ProductModel</span></td>
                                                <td><span class="hidden" name="accessoryID">@bom.AccessoryId</span>
                                                    <span name="AccessoryName">@bom.AccessoryName</span>
                                                </td>
                                                <td><span name="AccessoryModel">@bom.AccessoryModel</span></td>
                                                <td>
                                                <button class="btn btn-default btn-xs black " onclick="delete_bom(this)" name="deleted">
                                                    <i class="fa fa-trash-o"></i>
                                                    删除
                                                </button>
                                                </td>
                                            </tr>
                                            bomIndex++;
                                        }
                                    </tbody>
                                </table>
                            </div>
                        </div>
         
            </div>
        </div>
</div>

<div class="modal-footer">
    <button type="button" data-dismiss="modal" class="btn btn-default">取消</button>
    <button type="button" onclick="bom_save()" class="btn green">确定</button>
</div>

